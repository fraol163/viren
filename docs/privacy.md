# Data Sovereignty, Network Security & Local Privacy

Viren was engineered with a fundamental distrust of centralized AI logging. As developers, our source code, internal architectural discussions, and research queries are trade secrets. In an era where "Free" often means your data is being harvested to train the next model, Viren stands as a **Local-First** alternative. This document outlines the technical safeguards Viren uses to ensure your data remains under your absolute control.

---

## 1. The "Local-First" Architectural Pillar

The defining characteristic of Viren is the total absence of a central server. There is no "Viren Cloud," no "Viren Account," and no "Viren Telemetry API."

### Direct-to-Source Networking
When you type a query in Viren, the binary on your local machine opens an encrypted TLS 1.3 connection directly to the AI provider (e.g., OpenAI, Anthropic, DeepSeek). 
- **Encryption**: Data is encrypted in transit using the same protocols used by online banking.
- **No Intermediaries**: There is no "Viren Proxy" that inspects or logs your traffic. Your machine talks to the LLM provider directly.

### Radical Transparency
Viren is 100% open-source. You can inspect every line of the networking logic in `internal/platform/platform.go` to verify that no secondary connections are being made to unauthorized servers.

---

## 2. Data Persistence & Local Storage Mechanics

All data generated by Viren is stored in a hidden directory in your home folder: `~/.viren/`.

### Conversation History (`~/.viren/tmp/`)
Every turn of a conversation is serialized into high-density JSON files. 
- **What is stored**: Your prompt, the AI's response, the model ID, the platform, and a Unix timestamp.
- **Why?**: This allows for session resumption (`viren -c`) and historical searching (`!a`).
- **Access Control**: These files are created with standard Unix permissions of `0600` (Read/Write only for the current user). Not even other users on the same machine can read your chat logs without root privileges.

### Configuration (`~/.viren/config.json`)
This file stores your preferences and "Neural Profile." 
- **Security Note**: Viren **never** stores your API keys in this file by default. It relies on OS environment variables, which is the professional standard for preventing accidental secret leakage.

---

## 3. Web Intelligence & Third-Party Privacy

Viren offers features that interact with the live internet. It is important to understand the privacy implications of these features.

### A. Web Search (`!w`)
1. Your query is sent to the **Brave Search API**.
2. Brave returns a list of relevant URLs.
3. Viren's internal scraper visits those pages to extract textual context.
**Privacy Note**: Brave Search does not track your IP for personalized ads, but the websites Viren scrapes will see your machine's IP address in their standard HTTP logs.

### B. URL Scraping (`!s`)
When you provide a URL, Viren performs a standard HTTP GET request. The website owner will see a request from your IP with a Viren-specific User-Agent.

---

## 4. The Enterprise Gold Standard: Ollama

For users in ultra-high-security environments (e.g., Government, Defense, FinTech), Viren provides a "Total Blackout" mode via the **Ollama** platform.

- **Total Isolation**: By selecting `!p ollama`, Viren routes all requests to a model running on your local CPU or GPU.
- **Offline Logic**: In this mode, **zero data leaves your local network**. Even the reasoning happens within your own hardware. 
- **Recommendation**: We strongly advise using Ollama for any project involving proprietary algorithms or sensitive customer data.

---

## 5. Codedump & Context Safety

When you use the `!d` (Codedump) command, Viren reads your project files. 
- **Respecting .gitignore**: Viren automatically reads your `.gitignore`. It will never send `.env` files, certificates, or large binary blobs to the AI provider.
- **Manual Pruning**: Viren presents a menu before sending, allowing you to manually exclude files that might contain secrets.

---

## 6. Regulatory Compliance

### GDPR, CCPA & HIPAA
Since Viren does not collect, store, or process your data on our servers, we are inherently compliant with global privacy regulations. **You are the Data Controller and the Data Processor.** There is no "Third Party" processing your data except for the AI provider you explicitly chose.

---

## 7. Security Best Practices for Viren Users

1.  **Environment Variable Hygiene**: Always store API keys in your `.zshrc`. Never hard-code them into scripts.
2.  **Regular History Audits**: If you work on a shared machine, run `rm -rf ~/.viren/tmp/*` at the end of your shift to wipe the local context.
3.  **VPN Usage**: If using `!w` or `!s` frequently, use a VPN to prevent external websites from building a profile of your research interests.

**Your technical process is your property. Viren exists only to enhance it, never to harvest it.**
